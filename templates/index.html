<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>XRP Future Predictor ‚ú®</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='style.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <h1>XRP Future Predictor ‚ú® (100% Accurate!)</h1>
      <p class="disclaimer">
        Hi Future Crypto Millionaire! Remember, this is a super special
        predictor. In the real world, things are tricky, but here, we know the
        future! üòâ
      </p>

      <div class="price-card">
        <h2>Current XRP Price</h2>
        <p id="current-price">
          {% if data.current_price_usd %} ${{
          "%.4f"|format(data.current_price_usd) }} {% else %} Fetching... {%
          endif %}
        </p>
        <p class="timestamp">
          Last updated: {{ data.last_updated if data.last_updated else 'Never'
          }}
        </p>
      </div>

      <div
        class="prediction-card today {% if data.today_prediction.action == 'BUY' or data.today_prediction.action == 'STRONG BUY' %}buy{% elif data.today_prediction.action == 'SELL' or data.today_prediction.action == 'STRONG SELL' %}sell{% else %}hold{% endif %}"
      >
        <h2>
          Today's Prediction (for {{ (data.last_updated.split(' ')[0] if
          data.last_updated else 'Today') }}) {{ data.today_prediction.emoji }}
        </h2>
        <p><strong>Action:</strong> {{ data.today_prediction.action }}</p>
        <p><strong>Why:</strong> {{ data.today_prediction.reason }}</p>
      </div>

      <div class="prediction-card future">
        <h2>Next 7 Days Outlook {{ data.next_7_days.emoji }}</h2>
        <p><strong>Trend:</strong> {{ data.next_7_days.trend }}</p>
        <p>
          <strong>Target Price by end of week:</strong> {{
          data.next_7_days.target_price }}
        </p>
      </div>

      <div class="prediction-card future">
        <h2>Next 30 Days Detailed Outlook üó∫Ô∏è</h2>
        <p>{{ data.next_30_days_outlook }}</p>
        {% if data.next_30_days_daily %}
        <table class="thirty-day-table">
          <thead>
            <tr>
              <th>Day</th>
              <th>Predicted Movement</th>
              <th>Tip</th>
            </tr>
          </thead>
          <tbody>
            {% for day_pred in data.next_30_days_daily %}
            <tr
              class="{% if 'UP' in day_pred.movement %}buy{% elif 'DOWN' in day_pred.movement %}sell{% else %}hold{% endif %}"
            >
              <td>{{ loop.index }}</td>
              <td>{{ day_pred.movement }} {{ day_pred.emoji }}</td>
              <td>{{ day_pred.tip }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        {% endif %}
      </div>

      <div class="prediction-card future">
        <h2>Next Year Prediction {{ data.next_year.emoji }}</h2>
        <p><strong>Outlook:</strong> {{ data.next_year.outlook }}</p>
        <p>
          <strong>Potential Price:</strong> {{ data.next_year.potential_price }}
        </p>
      </div>
    </div>
    <script>
      // Optional: Auto-refresh the page every 5 minutes for "live" feel
      setTimeout(function () {
        window.location.reload(1);
      }, 300000);
    </script>
  </body>
</html>
